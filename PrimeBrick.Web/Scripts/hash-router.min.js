/*!
 * hash-router v1.2.0
 * https://github.com/michaelsogos/Hash-Router
 * 
 * Developed by Michael Sogos
 * Copyright 2014 
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 * Date: 2014-10-19
 *
 * Copyright (C) 2014 by Michael Sogos <![[michael.sogos[at]gurustudioweb[dot]it]]>
 * Thanks to these libraries to inspired me:
 * - path.js https://github.com/mtrpcic/pathjs
 * - sammy.js http://sammyjs.org/
 * - director.js https://github.com/flatiron/director
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 **/
(function(n){var t={init:function(n,i){return(t.__eventOnChange=n,t.__eventOnNotFound=i,!("onhashchange"in window))?(console.error("The browser doesn't support HASH on URL!"),!1):(t.__bindHashChange(),window.location.hash==""||window.location.hash=="#"?(t.__listener("#/"),!0):(t.__listener(window.location.hash),!0))},navigate:function(n){window.location.hash=n},run:function(n){t.__eventOnChange(n);t.__run(n,"before")},add:function(n,r){var u=!1;if(!n.path)return console.error("Cannot find property path when adding a new route!"),!1;for(i=0;i<t.routes.length;i++)if(t.routes[i].path===n.path){if(u=!0,r===!0){t.routes[i]=n;return}break}if(u)return console.error("A ruote for the path "+ruote.path+" is already mapped!"),!1;t.routes.push(n)},findRoute:function(n){for(i=0;i<t.routes.length;i++)if(t.routes[i].path===n)return t.routes[i]},matchRoute:function(n){var r=t.__cleanHash(n),s=r.hashParams.split("/"),e=r.hashParams,h={},c={},u,o,i,f;if(r.hashQueryArray.length>0)for(q=0;q<r.hashQueryArray.length;q++)u=r.hashQueryArray[q].split("="),u.length>=1&&u[0]&&(c[u[0]]=u[1]?decodeURIComponent(u[1]):"");for(o=0;o<t.routes.length;o++){if(i=t.routes[o],i.path.search(/:/)>0)for(f=i.path.split("/"),e=r.hashParams,x=0;x<f.length;x++)x<s.length&&f[x].charAt(0)===":"&&(h[f[x].replace(/:/,"")]=s[x],e=e.replace(s[x],f[x]));if(i.path===e)return i.params=h,i.url=n,i.query=c,i}return null},routes:[],__bindHashChange:function(){window.onhashchange=function(){t.__listener(location.hash)}},__cleanHash:function(n){var i={},r=n.indexOf("?"),u;return i.hash=n,i.hashParams=r>=0?n.substring(0,r):n,i.hashQuery=r>=0?n.substring(n.indexOf("?")+1):"",i.hashQueryArray=i.hashQuery?i.hashQuery.split("&"):[],u=i.hashParams.replace(/\/+$/,""),i.hashParams!==u&&(window.onhashchange=null,i.hash=u,i.hash+=i.hashQuery?"?"+i.hashQuery:"",window.location.hash=i.hash,t.__bindHashChange()),i},__listener:function(n){var i=t.matchRoute(n);if(i||t.__eventOnNotFound){if(!i&&t.__eventOnNotFound)return t.__eventOnNotFound(t.__hashToArray(n)),!1}else return console.error("Cannot find a valid route for hash "+n+"!"),!1;return t.run(i)},__hashToArray:function(n){var t=n.split("/");return t.length>0&&t[0]=="#"&&t.shift(),t},__run:function(n,i,r){var f,u;n[i]?(f=new t.__task(function(r){var u=t.__nextState(i);u&&t.__run(n,u,r)}),n.event={},n.event.previousResult=r,n.event.state=i,n.task=f,n[i]()):(u=t.__nextState(i),u&&t.__run(n,u))},__nextState:function(n){return n=="before"?"on":n=="on"?"after":null},__eventOnChange:null,__eventOnNotFound:null,__task:function(n){return{__callback:n,done:function(n){this.__callback(n)}}}};n.Router=t})(this);
//# sourceMappingURL=hash-router.min.js.map